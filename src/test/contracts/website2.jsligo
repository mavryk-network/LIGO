/* IF YOU CHANGE THIS, CHANGE THE EXAMPLE ON THE FRONT PAGE OF THE WEBSITE */

type storage = int;

type parameter = 
  { kind: "Increment", value: int}
| { kind: "Decrement", value: int}
| { kind: "Reset"};

type return_ = [list<operation>, storage];

/* Two entrypoints */
const add = (store: storage, delta: int) : storage => store + delta;
const sub = (store: storage, delta: int) : storage => store - delta;

/* Main access point that dispatches to the entrypoints according to
   the smart contract parameter. */
const main = (action : parameter, store: storage) : return_ => {
  const noop = list([]);
  switch(action.kind){
    case "Increment": 
      return [noop, add(store, action.value)];
    case "Decrement": 
      return [noop, sub(store, action.value)];
    case "Reset": 
      return [noop, 0];
  }
};

/* IF YOU CHANGE THIS, CHANGE THE EXAMPLE ON THE FRONT PAGE OF THE WEBSITE */
