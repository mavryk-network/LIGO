{
  "name": "ligo",
  "version": "0.43.0-dev",
  "esy": {
    "opamOverrideRemote": "https://github.com/ligolang/esy-opam-override",
    "release": {
      "bin": ["ligo"],
      "includePackages": [
        "root",
        "esy-libev",
        "esy-libffi",
        "@opam/hacl-star-raw",
        "@opam/conf-libev",
        "esy-gmp"
      ],

      "rewritePrefix": true
    }
  },
  "source": "./ligo.opam",
  "override": {
    "build": "dune build -p ligo",
    "buildEnv": {
      "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }"
    },
    "exportedEnv": {
      "LD_LIBRARY_PATH": {
        "val": "#{@opam/hacl-star-raw.lib / 'hacl-star-raw' : esy-libffi.lib : esy-libev.lib : $LD_LIBRARY_PATH}",
        "scope": "global"
      },
      "DYLD_LIBRARY_PATH": {
        "val": "#{@opam/hacl-star-raw.lib / 'hacl-star-raw' : esy-libffi.lib : esy-libev.lib : $DYLD_LIBRARY_PATH}",
        "scope": "global"
      }
    },
    "license": "MIT",
    "dependencies": {
      "@opam/hacl-star-raw": "*",
      "@opam/tezos-rust-libs": "*",
      "esy-libev": "*",
      "@opam/tezos-micheline": "*",
      "@opam/tezos-client-014-PtKathma": "*",
      "@opam/tezos-hacl": "*",
      "@opam/tezos-014-PtKathma-test-helpers": "*",
      "@opam/tezos-client-014-PtKathma": "*",
      "esy-libffi": "*"
    },
    "devDependencies": {
      "@opam/ocaml-lsp-server": "1.10.3"
    },
    "resolutions": {
      "@opam/tezos-014-PtKathma-test-helpers": "./vendors/tezos-ligo/opam/tezos-014-PtKathma-test-helpers.opam",
      "@opam/tezos-base": "./vendors/tezos-ligo/opam/tezos-base.opam",
      "@opam/tezos-client-014-PtKathma": "./vendors/tezos-ligo/opam/tezos-client-014-PtKathma.opam",
      "@opam/tezos-client-base": "./vendors/tezos-ligo/opam/tezos-client-base.opam",
      "@opam/tezos-client-base-unix": "./vendors/tezos-ligo/opam/tezos-client-base-unix.opam",
      "@opam/tezos-client-commands": "./vendors/tezos-ligo/opam/tezos-client-commands.opam",
      "@opam/tezos-context": "./vendors/tezos-ligo/opam/tezos-context.opam",
      "@opam/tezos-crypto": {
        "source": "./vendors/tezos-ligo/opam/tezos-crypto.opam",
        "override": {
          "dependencies": {
            "@opam/tezos-error-monad": "*"
          }
        }
      },

      "@opam/tezos-error-monad": {
        "source": "./vendors/tezos-ligo/opam/tezos-error-monad.opam",
        "override": {
          "dependencies": {
            "@opam/tezos-lwt-result-stdlib": "*"
          }
        }
      },

      "@opam/tezos-event-logging": {
        "source": "./vendors/tezos-ligo/opam/tezos-event-logging.opam",
        "override": {
          "dependencies": {
            "@opam/tezos-error-monad": "*",
            "@opam/lwt_log": "*"
          }
        }
      },

      "@opam/tezos-hacl": "./vendors/tezos-ligo/opam/tezos-hacl.opam",
      "@opam/tezos-lwt-result-stdlib": "./vendors/tezos-ligo/opam/tezos-lwt-result-stdlib.opam",
      "@opam/tezos-micheline": "./vendors/tezos-ligo/opam/tezos-micheline.opam",
      "@opam/tezos-mockup": "./vendors/tezos-ligo/opam/tezos-mockup.opam",
      "@opam/tezos-mockup-commands": "./vendors/tezos-ligo/opam/tezos-mockup-commands.opam",
      "@opam/tezos-mockup-proxy": "./vendors/tezos-ligo/opam/tezos-mockup-proxy.opam",
      "@opam/tezos-mockup-registration": "./vendors/tezos-ligo/opam/tezos-mockup-registration.opam",
      "@opam/tezos-p2p": "./vendors/tezos-ligo/opam/tezos-p2p.opam",
      "@opam/tezos-p2p-services": "./vendors/tezos-ligo/opam/tezos-p2p-services.opam",

      "@opam/tezos-protocol-014-PtKathma": {
        "source": "./vendors/tezos-ligo/opam/tezos-protocol-014-PtKathma.opam",
        "override": {
          "buildEnvOverride": {
            "LD_LIBRARY_PATH": "#{@opam/hacl-star-raw.lib / 'hacl-star-raw' : $LD_LIBRARY_PATH}",
            "DYLD_LIBRARY_PATH": "#{@opam/hacl-star-raw.lib / 'hacl-star-raw' : $DYLD_LIBRARY_PATH}"
          },
          "dependencies": {
            "@opam/hacl-star-raw": "*",
            "@opam/tezos-protocol-compiler": "*",
            "esy-libffi": "*",
            "esy-libev": "*"
          },
          "build": [
            ["dune", "build", "-p", "tezos-protocol-014-PtKathma", "-j", "4"]
          ],
          "x-build": [
            [
              "env",
              "#{ os == 'darwin' ? 'DY': ''}LD_LIBRARY_PATH=#{esy-libev.lib : esy-libffi.lib : @opam/hacl-star-raw.lib / 'hacl-star-raw'}",
              "#{@opam/tezos-protocol-compiler.lib}/tezos-protocol-compiler/replace#{os == 'windows' ? '.exe': ''}",
              "#{@opam/tezos-protocol-compiler.lib}/tezos-protocol-compiler/dune_protocol.template.v1",
              "dune",
              "#{@opam/tezos-protocol-compiler.lib}/tezos-protocol-compiler/final_protocol_versions",
              "014-PtKathma"
            ],
            ["dune", "build", "-p", "tezos-protocol-014-PtKathma", "-j", "4"]
          ]
        }
      },

      "@opam/tezos-protocol-compiler": "./vendors/tezos-ligo/opam/tezos-protocol-compiler.opam",
      "see-if-its-useful-later-@opam/tezos-protocol-compiler": {
        "source": "./vendors/tezos-ligo/src/lib_protocol_compiler/tezos-protocol-compiler.opam",
        "override": {
          "build": [
            "sed -i -e 's/tezos-base.unix/tezos-base.unix/g' dune",
            "dune build -j 4 -p tezos-protocol-compiler"
          ]
        }
      },

      "@opam/tezos-protocol-environment": "./vendors/tezos-ligo/opam/tezos-protocol-environment.opam",
      "@opam/tezos-protocol-plugin-014-PtKathma": "./vendors/tezos-ligo/opam/tezos-protocol-plugin-014-PtKathma.opam",
      "@opam/tezos-proxy": "./vendors/tezos-ligo/opam/tezos-proxy.opam",
      "@opam/tezos-rpc": "./vendors/tezos-ligo/opam/tezos-rpc.opam",
      "@opam/tezos-rpc-http": "./vendors/tezos-ligo/opam/tezos-rpc-http.opam",
      "@opam/tezos-rpc-http-client": "./vendors/tezos-ligo/opam/tezos-rpc-http-client.opam",
      "@opam/tezos-rpc-http-client-unix": "./vendors/tezos-ligo/opam/tezos-rpc-http-client-unix.opam",
      "@opam/tezos-sapling": {
        "source": "./vendors/tezos-ligo/opam/tezos-sapling.opam",
        "override": {
          "buildEnvOverride": {
            "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }"
          },
          "dependencies": {
            "@opam/tezos-crypto": "*",
            "@opam/dune": "*",
            "@opam/ctypes-foreign": "*",
            "@esy-ocaml/substs": "*",
            "@opam/tezos-rust-libs": "*"
          }
        }
      },

      "@opam/tezos-shell-services": "./vendors/tezos-ligo/opam/tezos-shell-services.opam",
      "@opam/tezos-signer-backends": "./vendors/tezos-ligo/opam/tezos-signer-backends.opam",
      "@opam/tezos-signer-services": "./vendors/tezos-ligo/opam/tezos-signer-services.opam",
      "@opam/tezos-stdlib": "./vendors/tezos-ligo/opam/tezos-stdlib.opam",
      "@opam/tezos-stdlib-unix": {
        "source": "./vendors/tezos-ligo/opam/tezos-stdlib-unix.opam",
        "override": {
          "dependencies": {}
        }
      },

      "@opam/tezos-test-helpers": "./vendors/tezos-ligo/opam/tezos-test-helpers.opam",
      "@opam/tezos-version": "./vendors/tezos-ligo/opam/tezos-version.opam",
      "@opam/tezos-workers": "./vendors/tezos-ligo/opam/tezos-workers.opam",
      "@opam/ocaml-recovery-parser": "git+https://github.com/serokell/ocaml-recovery-parser.git:ocaml-recovery-parser.opam#e05c872d1a0e8074940d995b57556121eddbf0f2",

      "@opam/ctypes": {
        "version": "opam:0.20.1",
        "override": {
          "buildEnv": {
            "LIBFFI_CFLAGS": "-I#{esy-libffi.install / 'include'}",
            "LIBFFI_LIBS": "-L#{esy-libffi.lib} -lffi"
          },
          "dependencies": {
            "esy-libffi": "*"
          }
        }
      },
      "ocaml": "4.12.0",
      "@opam/crunch": "mirage/ocaml-crunch:crunch.opam#e18888ce1f30ed6559ba977d405af2084812cbca",
      "@opam/core": "opam:v0.14.1",
      "@opam/dune": "opam:3.4.1",
      "@opam/dune-configurator": "opam:2.9.1",
      "@opam/class_group_vdf": {
        "version": "opam:0.0.4",
        "override": {
          "build": "bash -c 'dune build -p class_group_vdf || dune build -p class_group_vdf'",
          "dependencies": {
            "esy-gmp": "*"
          }
        }
      },
      "esy-gmp": "esy-packages/esy-gmp#26bf00576a607422364e32ef3cbcc60590f8a28f",
      "@opam/dune-build-info": "opam:2.9.3",
      "@opam/terminal_size": "DiningPhilosophersCo/terminal_size:terminal_size.opam#4fa00d7e812a59e669bfc0392d6539252afa5fb",
      "@opam/mtime": {
        "version": "opam:1.3.0",
        "override": {
          "install": "esy-installer ./mtime.install"
        }
      },
      "@opam/bls12-381": "ligolang/ocaml-bls12-381:bls12-381.opam#70e45476620cce203ae8cb2a77871ec9da4e78b5",
      "@opam/bls12-381-unix": "ManasJayanth/ocaml-bls12-381:bls12-381-unix.opam#59dadfe4582a48cd3a81e57db93a97137945022e",
      "@opam/bls12-381-gen": "opam:0.4.4",
      "@opam/secp256k1-internal": "git:https://gitlab.com/nomadic-labs/ocaml-secp256k1-internal:secp256k1-internal.opam#18012dcbe3169d51a2b2d6e991150a9a02a85494",
      "@opam/getopt": "ulrikstrid/ocaml-getopt:getopt.opam#645ab74",
      "yarn-pkg-config": "esy-ocaml/yarn-pkg-config#db3a0b63883606dd57c54a7158d560d6cba8cd79",
      "@opam/conduit-lwt-unix": "opam:4.0.1",
      "@opam/hacl-star": "opam:0.4.1",
      "@opam/hacl-star-raw": {
        "version": "opam:0.4.1",
        "override": {
          "exportedEnv": {
            "DYLD_LIBRARY_PATH": {
              "scope": "global",
              "val": "#{self.lib / 'hacl-star-raw'}:$DYLD_LIBRARY_PATH"
            },
            "LD_LIBRARY_PATH": {
              "scope": "global",
              "val": "#{self.lib / 'hacl-star-raw'}:$LD_LIBRARY_PATH"
            }
          },
          "buildEnv": {
            "DYLD_LIBRARY_PATH": "#{esy-libffi.lib}:$DYLD_LIBRARY_PATH",
            "LD_LIBRARY_PATH": "#{esy-libffi.lib}:$LD_LIBRARY_PATH"
          },
          "dependencies": {
            "@opam/ctypes": "*",
            "@opam/ctypes-foreign": "*",
            "@opam/ocamlfind": "*",
            "esy-libffi": "*"
          },
          "buildsInSource": true,
          "build": [
            ["sh", "-exc", "cd raw && ./configure"],
            ["make", "-C", "raw"]
          ],
          "install": [["make", "-C", "raw", "install-hacl-star-raw"]]
        }
      },
      "@opam/conf-rust": {
        "source": "no-source:",
        "override": {
          "build": ["true"],
          "dependencies": {
            "esy-rustup": "*"
          }
        }
      },
      "esy-rustup": "esy-packages/esy-rustup:esy.json#b12694a9690845765efb312cf8bb76df27c93669",
      "@opam/tezos-rust-libs": "opam:1.1",
      "@opam/zarith": "opam:1.12",
      "@opam/conf-hidapi": {
        "source": "no-source:",
        "override": {
          "dependencies": {
            "yarn-pkg-config": "*",
            "esy-hidapi": "*"
          }
        }
      },
      "esy-hidapi": "esy-packages/esy-hidapi:esy.json#e21f930d6474e460fa5bb955a26505f6c3500c7a",
      "libtool": "ManasJayanth/esy-libtool:esy.json#d6725b52f8d021539e92d182d29979951e706836",
      "@opam/linenoise": "DiningPhilosophersCo/ocaml-linenoise:linenoise.opam#1ba074f9bedbaa46280146d834b49064e4722695",
      "@opam/tezos-scoru-wasm": {
        "source": "./vendors/tezos-ligo/opam/tezos-scoru-wasm.opam",
        "override": {
          "dependencies": {
            "@opam/tezos-lwt-result-stdlib": "*"
          }
        }
      },
      "@opam/tezos-webassembly-interpreter": {
        "source": "./vendors/tezos-ligo/opam/tezos-webassembly-interpreter.opam",
        "override": {
          "dependencies": {
            "@opam/tezos-lwt-result-stdlib": "*"
          }
        }
      },
      "@opam/tezos-clic": {
        "source": "./vendors/tezos-ligo/opam/tezos-clic.opam",
        "override": {
          "dependencies": {
            "@opam/tezos-lwt-result-stdlib": "*"
          }
        }
      },
      "@opam/conf-gmp-powm-sec": {
        "source": "no-source:",
        "override": {
          "build": "true"
        }
      },
      "@opam/ocamlfind": "opam:1.9.1",
      "@opam/ocamlbuild": "opam:0.14.0",
      "@opam/conf-gmp": "opam:3",
      "@opam/easy-format": "opam:1.3.3",
      "@opam/ocamlformat": {
        "source": "no-source:",
        "override": {
          "build": "true"
        }
      }
    }
  }
}
