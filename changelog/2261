
author: melwyn95
description: "\\nFor a ligo program like\\n\\n\\n```ocaml\\nlet x = 42\\nlet f x = 0\\nlet g = x\\n\\n```\\n\\n#### Before\\n\\n\\n```bash\\n$ ligo.59 info get-scope x.mligo --format dev --with-types\\nScopes:\\n[  ] File \"x.mligo\", line 1, characters 8-10\\n[ x#1  ] File \"x.mligo\", line 2, characters 10-11\\n[ f#2 x#0  ] File \"x.mligo\", line 3, characters 8-9\\n\\nVariable definitions:\\n(f#2 -> f) \\nRange: File \"x.mligo\", line 2, characters 4-5 \\nBody Range: File \"x.mligo\", line 2, characters 6-7 \\nContent: |resolved: ∀ gen#563 : * . gen#563 -> int|\\nreferences: []\\n(g#3 -> g) \\nRange: File \"x.mligo\", line 3, characters 4-5 \\nBody Range: File \"x.mligo\", line 3, characters 8-9 \\nContent: |resolved: int|\\nreferences: []\\n(x#0 -> x) \\nRange: File \"x.mligo\", line 1, characters 4-5 \\nBody Range: File \"x.mligo\", line 1, characters 8-10 \\nContent: |resolved: int|\\nreferences: [] <---- The reference of top-level binding is not updated\\n(x#1 -> x) \\nRange: File \"x.mligo\", line 2, characters 6-7 \\nBody Range: File \"x.mligo\", line 2, characters 10-11 \\nContent: |resolved: gen#563|\\nreferences: File \"x.mligo\", line 3, characters 8-9 <---- The reference of local binding is updated :(\\nType definitions:\\nModule definitions:\\n\\n```\\n\\n#### After\\n\\n\\n```bash\\n$ ligo info get-scope x.mligo --with-types --format dev\\nScopes:\\n[  ] File \"x.mligo\", line 1, characters 8-10\\n[ x#1  ] File \"x.mligo\", line 2, characters 10-11\\n[ f#2 x#0  ] File \"x.mligo\", line 3, characters 8-9\\n\\nVariable definitions:\\n(f#2 -> f) \\nRange: File \"x.mligo\", line 2, characters 4-5 \\nBody Range: File \"x.mligo\", line 2, characters 6-7 \\nContent: |resolved: ∀ gen#563 : * . gen#563 -> int|\\nreferences: []\\n(g#3 -> g) \\nRange: File \"x.mligo\", line 3, characters 4-5 \\nBody Range: File \"x.mligo\", line 3, characters 8-9 \\nContent: |resolved: int|\\nreferences: []\\n(x#0 -> x) \\nRange: File \"x.mligo\", line 1, characters 4-5 \\nBody Range: File \"x.mligo\", line 1, characters 8-10 \\nContent: |resolved: int|\\nreferences: File \"x.mligo\", line 3, characters 8-9 <---- The reference of level binding is updated correctly\\n(x#1 -> x) \\nRange: File \"x.mligo\", line 2, characters 6-7 \\nBody Range: File \"x.mligo\", line 2, characters 10-11 \\nContent: |resolved: gen#563|\\nreferences: []\\nType definitions:\\nModule definitions:\\n\\n```\\n\\n"
merge_request: '2261'
title: "Resolve \"Wrong references in `ligo info get-scope`\""
type: fixed
            